<!doctype html>
<html lang="es" class="lang-es" class="lang-es" class="lang-es" class="lang-es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Viewer AR</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <script defer src="assets/js/app.js"></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link rel="stylesheet" href="assets/css/controls.css">
  
  <link rel="stylesheet" href="assets/css/accessibility.css">
</head>
<body>
  <div class="container">
    <div class="row" style="justify-content:space-between; align-items:center">
      <a class="btn" href="./">‚¨ÖÔ∏è Inicio</a>
      
    </div>
    <h1 id="title">üì± AR</h1>

    <model-viewer id="mv" src="" camera-controls ar ar-modes="webxr scene-viewer quick-look" shadow-intensity="0.6"
      style="width:100%;height:70vh;border-radius:16px;background:#0b1220">
      <button slot="ar-button" class="btn btn-ar">üì± <span>Iniciar AR</span></button>
      <div class="small" slot="poster">Cargando‚Ä¶</div>
    </model-viewer>

    <p class="small">Si tu dispositivo soporta AR, toca ‚ÄúIniciar AR‚Äù para colocar el cr√°neo en tu entorno.</p>
  </div>

  
  
  <script>
  (function(){
    function getParamLocal(name, search){ 
      const p = new URLSearchParams(search || location.search); 
      return p.get(name) || ""; 
    }
    window.addEventListener('DOMContentLoaded', function(){
      const raw = (typeof getParam === 'function' ? getParam('src') : getParamLocal('src')) || "";
      let src = decodeURIComponent(raw);
      // Fix accidental duplicates like assets/models/assets/models/...
      src = src.replace(/(assets\/models\/){2,}/g, "assets/models/");
      // Remove leading "./" or "/" to keep path relative to this page
      src = src.replace(/^\/?\.?\/?/, "");
      // Optional: if someone passed just a filename, prefix the models folder
      if (src && !/^assets\/models\//.test(src)) {
        src = "assets/models/" + src;
      }
      const title = decodeURIComponent((typeof getParam === 'function' ? getParam('title') : getParamLocal('title')) || '3D');
      document.title = '3D - ' + title;
      const t = document.getElementById('title'); if (t) t.textContent = title;
      const mv = document.getElementById('mv');
      if (mv) mv.src = src;
    });
  })();
  </script>

  <script src="assets/js/controls.js"></script>

  

<script>
/* GUIDE-AUTO-MARKERS */
document.addEventListener('DOMContentLoaded', function() {
  // Siempre: panel de controles
  const ctrl = document.getElementById('access-controls');
  if (ctrl && !ctrl.hasAttribute('data-guide')) {
    ctrl.setAttribute('data-guide','Panel de controles|Ajusta contraste, tama√±o de texto, idioma, narrador, cursor accesible y activa la gu√≠a.');
  }

  function mark(el, title, desc) {
    if (el && !el.hasAttribute('data-guide')) el.setAttribute('data-guide', title + '|' + desc);
  }

  // Comunes
  mark(document.querySelector('main, .content, .container, section'), 'Contenido principal', 'Aqu√≠ est√° el contenido clave de la p√°gina.');
  mark(document.querySelector('h1, header h1, .hero h1'), 'T√≠tulo', 'Punto de partida para orientar a los estudiantes.');

  // Espec√≠ficos por p√°gina
  
  
  
  

  
  

  // viewerar.html
  (function(){ const v = document.querySelector('#viewer, [id*=viewer], model-viewer, canvas, a-scene'); mark(v,'Visor AR','Activa AR si est√° disponible; si no, muestra el modelo 3D.'); })();

});
</script>

  <script src="assets/js/accessibility.js"></script>
</body>
</html>
