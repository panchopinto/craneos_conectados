<!doctype html>
<html lang="es" class="lang-es" class="lang-es" class="lang-es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Viewer 3D</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <script defer src="assets/js/app.js"></script>
  <!-- model-viewer (ESM build via unpkg is offline; we embed minimal loader from CDN path comment for user to host later). 
       For offline preview in GitHub Pages, we use the standard script URL. -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <link rel="stylesheet" href="assets/css/controls.css">
  <link rel="stylesheet" href="assets/css/accessibility.css">
</head>
<body>
  <div class="container">
    <div class="row" style="justify-content:space-between; align-items:center">
      <a class="btn" href="./">⬅️ Inicio</a>
      
    </div>
    <h1 id="title">👁️ 3D</h1>

    <model-viewer id="mv" src="" camera-controls exposure="0.9" environment-image="legacy" shadow-intensity="0.6" style="width:100%;height:70vh;border-radius:16px; background:#0b1220"></model-viewer>

    <p class="small">Tip: Usa el mouse o tus dedos para rotar y hacer zoom.</p>
  </div>

  
  
  <script>
  (function(){
    function getParamLocal(name, search){ 
      const p = new URLSearchParams(search || location.search); 
      return p.get(name) || ""; 
    }
    window.addEventListener('DOMContentLoaded', function(){
      const raw = (typeof getParam === 'function' ? getParam('src') : getParamLocal('src')) || "";
      let src = decodeURIComponent(raw);
      // Fix accidental duplicates like assets/models/assets/models/...
      src = src.replace(/(assets\/models\/){2,}/g, "assets/models/");
      // Remove leading "./" or "/" to keep path relative to this page
      src = src.replace(/^\/?\.?\/?/, "");
      // Optional: if someone passed just a filename, prefix the models folder
      if (src && !/^assets\/models\//.test(src)) {
        src = "assets/models/" + src;
      }
      const title = decodeURIComponent((typeof getParam === 'function' ? getParam('title') : getParamLocal('title')) || '3D');
      document.title = '3D - ' + title;
      const t = document.getElementById('title'); if (t) t.textContent = title;
      const mv = document.getElementById('mv');
      if (mv) mv.src = src;
    });
  })();
  </script>

  <script src="assets/js/controls.js"></script>

  <script src="assets/js/accessibility.js"></script>

<script>
/* GUIDE-AUTO-MARKERS */
document.addEventListener('DOMContentLoaded', function() {
  // Siempre: panel de controles
  const ctrl = document.getElementById('access-controls');
  if (ctrl && !ctrl.hasAttribute('data-guide')) {
    ctrl.setAttribute('data-guide','Panel de controles|Ajusta contraste, tamaño de texto, idioma, narrador, cursor accesible y activa la guía.');
  }

  function mark(el, title, desc) {
    if (el && !el.hasAttribute('data-guide')) el.setAttribute('data-guide', title + '|' + desc);
  }

  // Comunes
  mark(document.querySelector('main, .content, .container, section'), 'Contenido principal', 'Aquí está el contenido clave de la página.');
  mark(document.querySelector('h1, header h1, .hero h1'), 'Título', 'Punto de partida para orientar a los estudiantes.');

  // Específicos por página
  
  
  
  

  // viewer3d.html
  (function(){ const v = document.querySelector('#viewer, [id*=viewer], model-viewer, canvas, a-scene'); mark(v,'Visor 3D','Arrastra, acerca/aleja y explora el modelo.'); })();

  
  

});
</script>

</body>
<footer>
  <div style="display:flex;flex-direction:column;gap:6px;align-items:center;text-align:center">
    <div>Creado por:</a></div>
    <div>👨‍💻 Francisco Pinto — 📧 <a href="mailto:franciscoandresp@gmail.com">franciscoandresp@gmail.com</a> · 📞 <a href="tel:+56920027992">+56 9 2002 7992</a></div>
    <div>👩‍🏫 Belén Acuña — 📧 <a href="mailto:belen.acpe@gmail.com">belen.acpe@gmail.com</a> · 📞 <a href="tel:+56962664960">+56 9 6266 4960</a></div>
    <div>👩‍🏫 Macarena Álvarez — 📧 <a href="mailto:macarena.alvarez.franck@gmail.com">macarena.alvarez.franck@gmail.com</a> · 📞 <a href="tel:+56949290386">+56 9 4929 0386</a></div>
    <div>Hecho con ❤️ para el Liceo Bicentenario de Excelencia Polivalente San Nicolás</div>
    <div>Proyecto Educativo - Realidad Virtual / Realidad Aumentada / vista 3D</div>
  </div>
</footer>
</html>
